def justFolders = ["schedule"]

task clean(type: Delete, dependsOn: subprojects.findAll { p ->
    !justFolders.contains(p.name)
}.collect { p -> "$p.name:clean" }) {
    delete project.buildDir
}

task check(dependsOn: subprojects.findAll { p ->
    !justFolders.contains(p.name)
}.collect { p ->
    "$p.name:check"
})

task assemble(dependsOn: subprojects.findAll { p ->
    !justFolders.contains(p.name)
}.collect { p ->
    "$p.name:assemble"
})

task build(dependsOn: ['assemble', 'check'])
